{"version":3,"sources":["webparts/cabaModule/components/Master/OccupancyType.tsx"],"names":[],"mappings":"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","file":"webparts/cabaModule/components/Master/OccupancyType.js","sourcesContent":["import * as React from 'react';\r\nimport { BrowserRouter as Router, Link , Redirect} from \"react-router-dom\";\r\n//import { IEximTravelBlockProps } from \"../Services/interface/IEximTravelBlockProps\";\r\nimport { ICabaModuleProps } from '../../../Services/interface/ICabaModuleProps';\r\n//import { IEximTravelProps } from '../Services/interface/IEximTravelProps';\r\nimport styles from '../CabaModule.module.scss';\r\nimport { DetailsList, SelectionMode,MarqueeSelection, IColumn, Selection,DetailsListLayoutMode, Fabric, TextField, DefaultButton, PrimaryButton,MessageBar, DatePicker, Dropdown, IDropdownOption, Icon, Dialog, DialogFooter, DialogType,Spinner, SpinnerSize,  } from 'office-ui-fabric-react';\r\nimport { Pivot, PivotItem, IPivotItemProps, PivotLinkSize, PivotLinkFormat } from 'office-ui-fabric-react/lib/Pivot';\r\nimport useSPCRUD, { ISPCRUD } from '../../../Services/bal/spcrud';\r\nimport MasterAllReqOps from '../../../Services/bal/MasterAllReqOps';\r\nimport { IMasterProps } from '../../../Services/interface/IMasterProps';\r\n\r\nlet spCrudObj:ISPCRUD;\r\nexport default class OccupancyType  extends React.Component<ICabaModuleProps> {\r\n    private columns : IColumn[];\r\n  public state = {       \r\n     isDialogVisible:false,\r\n     OccupancyType: '',\r\n     Submitted: false,\r\n     OccupancyTypeDashboard:[],\r\n     isEditMode: false,\r\n     editItemId: null\r\n  }\r\n \r\n      constructor(props: ICabaModuleProps) {\r\n      super(props);\r\n    this.state = {          \r\n        isDialogVisible:false,\r\n        OccupancyType: '',\r\n        Submitted: false,\r\n        OccupancyTypeDashboard:[],\r\n        isEditMode: false,\r\n        editItemId: null\r\n      };\r\n\r\n      this.columns = [\r\n        { \r\n          key: 'OccupancyType', \r\n          name: 'Occupancy Type', \r\n          fieldName: 'OccupancyType', \r\n          minWidth: 100, \r\n         // maxWidth: 200, \r\n          isResizable: true \r\n        },\r\n        {\r\n            key: 'Edit', name: 'Action',fieldName: 'ID', minWidth: 100, isResizable: true,\r\n            onRender: (item:any, index:number, columns:IColumn) => {\r\n            //   const ItemId = item['ID'];\r\n            const Items = item;\r\n              return<div> \r\n            <PrimaryButton onClick={() => this.EditForm(Items)} className={styles.btnprimary + \" \" + styles.btnround + \" \" + 'mr-2'}>\r\n            <Icon iconName='Edit' /></PrimaryButton>\r\n            <PrimaryButton onClick={() => this.deleteRequest(Items.ID)} className={styles.btnred + \" \" + styles.btnround}>\r\n            <Icon iconName='Delete' /></PrimaryButton>\r\n              </div>;\r\n            }\r\n        },\r\n\r\n        \r\n    ]\r\n      \r\n   \r\n    }//end constructor    \r\n  componentDidMount(): void {\r\n    this.getOccupancyTypeDashboard();   \r\n    \r\n  }\r\n\r\n  handleChange = (e) => {\r\n    this.setState({ ...this.state, [e.target.name]: e.target.value });\r\n\r\n  }\r\n\r\n  getOccupancyTypeDashboard = async (): Promise<any> => {\r\n    spCrudObj = await useSPCRUD();\r\n    this.setState(spCrudObj);\r\n    return await MasterAllReqOps().getOccupancyTypeData(this.props).then(brrResults => {\r\n       this.setState({OccupancyTypeDashboard:brrResults})\r\n    });\r\n  }\r\n\r\n\r\n  public requestType = async () => {\r\n        spCrudObj = await useSPCRUD();\r\n        this.setState(spCrudObj);\r\n        if(this.state.OccupancyType === null || this.state.OccupancyType === undefined || this.state.OccupancyType.trim() === ''){\r\n         alert(\"Please Occupancy Type\");\r\n         return false;\r\n        }\r\n         else{\r\n          const ObjectRequest = {\r\n            OccupancyType: this.state.OccupancyType,\r\n          }\r\n          if (this.state.isEditMode) {\r\n              // Update operation\r\n              return await spCrudObj.updateData(\"OccupancyTypeMaster\", this.state.editItemId, ObjectRequest, this.props).then((brrResults) => {\r\n                  alert('Data Updated successfully!');\r\n                  this.setState({ Submitted: true, isDialogVisible: false, isEditMode: false, editItemId: null });\r\n                  this.getOccupancyTypeDashboard();\r\n                  return brrResults;\r\n              });\r\n          } else {\r\n              // Add operation\r\n              return await spCrudObj.insertData(\"OccupancyTypeMaster\", ObjectRequest, this.props).then((brrResults) => {\r\n                  alert('Data Saved successfully!');\r\n                  this.setState({ Submitted: true, isDialogVisible: false });\r\n                  this.getOccupancyTypeDashboard();\r\n                  return brrResults;\r\n              });\r\n          }\r\n         }\r\n    }\r\n\r\n          \r\n  public EditForm = (item:IMasterProps)=>{\r\n        debugger;\r\n        var items = item;\r\n        console.log(items);\r\n        this.setState({\r\n          OccupancyType: item.OccupancyType,\r\n            isDialogVisible: true,\r\n            isEditMode: true,\r\n            editItemId: item.ID\r\n        });\r\n  }\r\n     public newRequestForm =()=> {      \r\n      //  this.showDialog();\r\n        this.setState({ isDialogVisible: true, isEditMode: false, OccupancyType: '' });\r\n     }     \r\n  public showDialog = () => {\r\n    this.setState({ isDialogVisible: true });\r\n  }\r\n  public closeDialog = () => {\r\n    this.setState({ isDialogVisible: false });\r\n  }\r\n\r\npublic deleteRequest = async (itemsID) => {\r\n    var confirmDelete = confirm(\"Are you sure you want to delete this item?\");\r\n    if (confirmDelete) {\r\n        spCrudObj = await useSPCRUD();\r\n        this.setState(spCrudObj);        \r\n        return await spCrudObj.deleteData(\"OccupancyTypeMaster\", itemsID, this.props).then((response) => {\r\n            alert('Item deleted successfully!');\r\n            this.getOccupancyTypeDashboard(); // Refresh the list after deletion\r\n            return response;\r\n        }).catch((error) => {\r\n            console.error(\"Error deleting item: \", error);\r\n        });\r\n    }\r\n}\r\n\r\n    render(): React.ReactElement<any> {\r\n        \r\n        return(\r\n            <div>\r\n\r\n                 {this.state.Submitted ? <Redirect to='/OccupancyType' ></Redirect> : null}\r\n                <h4>Occupancy Type Master</h4>\r\n                    <div><Link to=\"/AdminMaster\"><Icon iconName='NavigateBack'></Icon> Home</Link></div>\r\n              <div className='text-right'><button onClick={()=> this.newRequestForm()} className={styles.btnprimary}\r\n              style={{height:'34px', border:'none', width: '70px'}}><Icon iconName='AddTo'/> Add</button></div>\r\n\r\n            {/* <Pivot linkSize={PivotLinkSize.large} linkFormat={PivotLinkFormat.tabs} >\r\n          <PivotItem linkText='Flat Specification'>\r\n            <div className='Flat Specification'>\r\n            \r\n            </div>\r\n          </PivotItem>         \r\n          </Pivot> */}\r\n          <DetailsList columns={this.columns} items={this.state.OccupancyTypeDashboard as any} />\r\n           {/* Dialog Print View */}\r\n        <div className='flatspecification'>\r\n        <Dialog\r\n          hidden={!this.state.isDialogVisible}\r\n          onDismiss={this.closeDialog}\r\n          dialogContentProps={{\r\n            type: DialogType.normal,\r\n             title: 'Occupancy Type',\r\n            closeButtonAriaLabel: 'Close',\r\n            \r\n          }}\r\n          modalProps={{           \r\n            containerClassName: 'specificationdialogMain'                       \r\n          }}\r\n        >\r\n            \r\n          <div className='form-group row'>\r\n                <div className='col-md-8'>\r\n                  <label>Occupancy Type</label>\r\n                   <input type=\"text\" onChange={this.handleChange} name=\"OccupancyType\" id='OccupancyType'\r\n                value={this.state.OccupancyType} className=\"form-control\" />\r\n               \r\n                </div>                                             \r\n                </div>\r\n         \r\n           <DialogFooter>\r\n           <PrimaryButton onClick={()=> this.requestType()} className={styles.btnprimary}  >Submit</PrimaryButton>\r\n           </DialogFooter>\r\n\r\n          </Dialog>\r\n        </div>\r\n           \r\n            </div>\r\n        )\r\n    }\r\n}"],"sourceRoot":"..\\..\\..\\..\\..\\src"}