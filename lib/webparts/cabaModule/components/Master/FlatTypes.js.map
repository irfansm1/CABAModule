{"version":3,"sources":["webparts/cabaModule/components/Master/FlatTypes.tsx"],"names":[],"mappings":"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","file":"webparts/cabaModule/components/Master/FlatTypes.js","sourcesContent":["import * as React from 'react';\r\nimport { BrowserRouter as Router, Link , Redirect} from \"react-router-dom\";\r\n//import { IEximTravelBlockProps } from \"../Services/interface/IEximTravelBlockProps\";\r\nimport { ICabaModuleProps } from '../../../Services/interface/ICabaModuleProps';\r\n//import { IEximTravelProps } from '../Services/interface/IEximTravelProps';\r\nimport styles from '../CabaModule.module.scss';\r\nimport { DetailsList, SelectionMode,MarqueeSelection, IColumn, Selection,DetailsListLayoutMode, Fabric, TextField, DefaultButton, PrimaryButton,MessageBar, DatePicker, Dropdown, IDropdownOption, Icon, Dialog, DialogFooter, DialogType,Spinner, SpinnerSize,  } from 'office-ui-fabric-react';\r\nimport { Pivot, PivotItem, IPivotItemProps, PivotLinkSize, PivotLinkFormat } from 'office-ui-fabric-react/lib/Pivot';\r\nimport useSPCRUD, { ISPCRUD } from '../../../Services/bal/spcrud';\r\nimport MasterAllReqOps from '../../../Services/bal/MasterAllReqOps';\r\nimport { IMasterProps } from '../../../Services/interface/IMasterProps';\r\n\r\nlet spCrudObj:ISPCRUD;\r\nexport default class FlatTypes extends React.Component<ICabaModuleProps> {\r\n    private columns : IColumn[];\r\n  public state = {       \r\n     isDialogVisible:false,\r\n     FlatType: '',\r\n     Submitted: false,\r\n     FlatTypeData:[],\r\n     isEditMode: false,\r\n     editItemId: null\r\n  }\r\n \r\n      constructor(props: ICabaModuleProps) {\r\n      super(props);\r\n    this.state = {          \r\n        isDialogVisible:false,\r\n        FlatType: '',\r\n        Submitted: false,\r\n        FlatTypeData:[],\r\n        isEditMode: false,\r\n        editItemId: null\r\n      };\r\n\r\n      this.columns = [\r\n        { \r\n          key: 'FlatType', \r\n          name: 'Flat Types', \r\n          fieldName: 'FlatType', \r\n          minWidth: 100, \r\n         // maxWidth: 200, \r\n          isResizable: true \r\n        },\r\n        {\r\n            key: 'Edit', name: 'Action',fieldName: 'ID', minWidth: 100, isResizable: true,\r\n            onRender: (item:any, index:number, columns:IColumn) => {\r\n            //   const ItemId = item['ID'];\r\n            const Items = item;\r\n              return<div> \r\n            <PrimaryButton onClick={() => this.EditForm(Items)} className={styles.btnprimary + \" \" + styles.btnround + \" \" + 'mr-2'}>\r\n            <Icon iconName='Edit' /></PrimaryButton>\r\n            <PrimaryButton onClick={() => this.deleteRequest(Items.ID)} className={styles.btnred + \" \" + styles.btnround}>\r\n            <Icon iconName='Delete' /></PrimaryButton>\r\n              </div>;\r\n            }\r\n        },\r\n\r\n        \r\n    ]\r\n      \r\n   \r\n    }//end constructor    \r\n  componentDidMount(): void {\r\n    this.getFlatSpecifications();   \r\n    \r\n  }\r\n\r\n  handleChange = (e) => {\r\n    this.setState({ ...this.state, [e.target.name]: e.target.value });\r\n\r\n  }\r\n\r\n  getFlatSpecifications = async (): Promise<any> => {\r\n    spCrudObj = await useSPCRUD();\r\n    this.setState(spCrudObj);\r\n    return await MasterAllReqOps().getCABAFlateTypesData(this.props).then(brrResults => {\r\n       this.setState({FlatTypeData:brrResults})\r\n    });\r\n  }\r\n\r\n \r\n  public requestType = async () => {\r\n        spCrudObj = await useSPCRUD();\r\n        this.setState(spCrudObj);\r\n        const ObjectRequest = {\r\n          FlatType: this.state.FlatType,\r\n        }\r\n        if (this.state.isEditMode) {\r\n            // Update operation\r\n            return await spCrudObj.updateData(\"CABAFlatTypeMaster\", this.state.editItemId, ObjectRequest, this.props).then((brrResults) => {\r\n                alert('Data Updated successfully!');\r\n                this.setState({ Submitted: true, isDialogVisible: false, isEditMode: false, editItemId: null });\r\n                this.getFlatSpecifications();\r\n                return brrResults;\r\n            });\r\n        } else {\r\n            // Add operation\r\n            return await spCrudObj.insertData(\"CABAFlatTypeMaster\", ObjectRequest, this.props).then((brrResults) => {\r\n                alert('Data Saved successfully!');\r\n                this.setState({ Submitted: true, isDialogVisible: false });\r\n                this.getFlatSpecifications();\r\n                return brrResults;\r\n            });\r\n        }\r\n    }\r\n\r\n          \r\n  public EditForm = (item:IMasterProps)=>{\r\n        debugger;\r\n        var items = item;\r\n        console.log(items);\r\n        this.setState({\r\n          FlatType: item.FlatType,\r\n            isDialogVisible: true,\r\n            isEditMode: true,\r\n            editItemId: item.ID\r\n        });\r\n  }\r\n     public newRequestForm =()=> {      \r\n      //  this.showDialog();\r\n        this.setState({ isDialogVisible: true, isEditMode: false, FlatType: '' });\r\n     }     \r\n  public showDialog = () => {\r\n    this.setState({ isDialogVisible: true });\r\n  }\r\n  public closeDialog = () => {\r\n    this.setState({ isDialogVisible: false });\r\n  }\r\n\r\npublic deleteRequest = async (itemsID) => {\r\n    var confirmDelete = confirm(\"Are you sure you want to delete this item?\");\r\n    if (confirmDelete) {\r\n        spCrudObj = await useSPCRUD();\r\n        this.setState(spCrudObj);        \r\n        return await spCrudObj.deleteData(\"CABAFlatTypeMaster\", itemsID, this.props).then((response) => {\r\n            alert('Item deleted successfully!');\r\n            this.getFlatSpecifications(); // Refresh the list after deletion\r\n            return response;\r\n        }).catch((error) => {\r\n            console.error(\"Error deleting item: \", error);\r\n        });\r\n    }\r\n}\r\n\r\n    render(): React.ReactElement<any> {\r\n        \r\n        return(\r\n            <div>\r\n\r\n                 {this.state.Submitted ? <Redirect to='/FlatTypes' ></Redirect> : null}\r\n                <h4>Flat Types Master</h4>\r\n                    <div><Link to=\"/AdminMaster\"><Icon iconName='NavigateBack'></Icon> Home</Link></div>\r\n              <div className='text-right'><button onClick={()=> this.newRequestForm()} className={styles.btnprimary}\r\n              style={{height:'34px', border:'none', width: '70px'}}><Icon iconName='AddTo'/> Add</button></div>\r\n\r\n            {/* <Pivot linkSize={PivotLinkSize.large} linkFormat={PivotLinkFormat.tabs} >\r\n          <PivotItem linkText='Flat Specification'>\r\n            <div className='Flat Specification'>\r\n            \r\n            </div>\r\n          </PivotItem>         \r\n          </Pivot> */}\r\n          <DetailsList columns={this.columns} items={this.state.FlatTypeData as any} />\r\n           {/* Dialog Print View */}\r\n        <div className='flatspecification'>\r\n        <Dialog\r\n          hidden={!this.state.isDialogVisible}\r\n          onDismiss={this.closeDialog}\r\n          dialogContentProps={{\r\n            type: DialogType.normal,\r\n             title: 'Flat Types',\r\n            closeButtonAriaLabel: 'Close',\r\n            \r\n          }}\r\n          modalProps={{           \r\n            containerClassName: 'specificationdialogMain'                       \r\n          }}\r\n        >\r\n            \r\n          <div className='form-group row'>\r\n                <div className='col-md-8'>\r\n                  <label>Types Flat</label>\r\n                   <input type=\"text\" onChange={this.handleChange} name=\"FlatType\" id='FlatType'\r\n                value={this.state.FlatType} className=\"form-control\" />\r\n                </div>                                             \r\n                </div>\r\n         \r\n           <DialogFooter>\r\n           <PrimaryButton onClick={()=> this.requestType()}  >Submit</PrimaryButton>\r\n           </DialogFooter>\r\n\r\n          </Dialog>\r\n        </div>\r\n           \r\n            </div>\r\n        )\r\n    }\r\n}"],"sourceRoot":"../../../../../src"}