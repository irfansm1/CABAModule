{"version":3,"sources":["webparts/cabaModule/components/Accommodation/AccommodationDasboard.tsx"],"names":[],"mappings":"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","file":"webparts/cabaModule/components/Accommodation/AccommodationDasboard.js","sourcesContent":["import * as React from 'react';\r\nimport { BrowserRouter as Router, Link } from \"react-router-dom\";\r\n//import { IEximTravelBlockProps } from \"../Services/interface/IEximTravelBlockProps\";\r\nimport { ICabaModuleProps } from '../../../Services/interface/ICabaModuleProps';\r\n//import { IEximTravelProps } from '../Services/interface/IEximTravelProps';\r\nimport styles from '../CabaModule.module.scss';\r\nimport useSPCRUD, { ISPCRUD } from '../../../Services/bal/spcrud';\r\nimport { DetailsList, SelectionMode,MarqueeSelection, IColumn, Selection,DetailsListLayoutMode, Fabric, TextField, DefaultButton, PrimaryButton,MessageBar, DatePicker, Dropdown, IDropdownOption, Icon, Dialog, DialogFooter, DialogType,Spinner, SpinnerSize,  } from 'office-ui-fabric-react';\r\nimport { Pivot, PivotItem, IPivotItemProps, PivotLinkSize, PivotLinkFormat } from 'office-ui-fabric-react/lib/Pivot';\r\nimport { IEximCabaProps } from '../../../Services/interface/IEximCabaProps';\r\nimport CABAReqOps from '../../../Services/bal/CABAReqOps';\r\n\r\nexport default class AccomodationDashboards extends React.Component<ICabaModuleProps> {\r\n   private columns : IColumn[]\r\n\r\n    public state = {      \r\n    UserAccomodationData: [],\r\n     isDialogVisible:false,\r\n     RequestforBanksAccommodation:\"\",\r\n     Transfer:\"\",\r\n     Married:\"\",\r\n     SpouseEximite:\"\",\r\n     emplyeecode:'',\r\n     emplyeeName:'',\r\n     grade: '',\r\n   };\r\n      constructor(props: ICabaModuleProps) {\r\n      super(props);\r\n    this.state = {      \r\n       UserAccomodationData: [],\r\n        isDialogVisible:false,\r\n        RequestforBanksAccommodation:\"\",\r\n        Transfer:\"\",\r\n        Married:\"\",\r\n        SpouseEximite:\"\",\r\n        emplyeecode:'',\r\n        emplyeeName:'',\r\n        grade: '',\r\n      };\r\n      this.columns = [\r\n        { \r\n          key: 'CABAFlatID', \r\n          name: 'CABAFlatID', \r\n          fieldName: 'CABAFlatID', \r\n          minWidth: 100, \r\n          maxWidth: 100, \r\n          isResizable: true \r\n        },\r\n        { \r\n          key: 'FlatSpecifications', \r\n          name: 'Flat Specifications', \r\n          fieldName: 'FlatSpecifications', \r\n          minWidth: 150, \r\n          maxWidth: 150, \r\n          isResizable: true \r\n        },\r\n        { \r\n          key: 'FlatType', \r\n          name: 'Flat Type', \r\n          fieldName: 'FlatType', \r\n          minWidth: 100, \r\n          maxWidth: 100, \r\n          isResizable: true \r\n        },\r\n        { \r\n          key: 'SocietyName', \r\n          name: 'Society Name', \r\n          fieldName: 'SocietyName', \r\n          minWidth: 150, \r\n          maxWidth: 150, \r\n          isResizable: true \r\n        },\r\n        { \r\n          key: 'Wing', \r\n          name: 'Wing', \r\n          fieldName: 'Wing', \r\n          minWidth: 70, \r\n          maxWidth: 70, \r\n          isResizable: true \r\n        },\r\n        { \r\n          key: 'FlatNo', \r\n          name: 'Flat No', \r\n          fieldName: 'FlatNo', \r\n          minWidth: 70, \r\n          maxWidth: 70, \r\n          isResizable: true \r\n        },\r\n        { \r\n          key: 'OccupancyType', \r\n          name: 'Occupancy Type', \r\n          fieldName: 'OccupancyType', \r\n          minWidth: 100, \r\n          maxWidth: 150, \r\n          isResizable: true \r\n        },\r\n        { \r\n          key: 'AssignedTo', \r\n          name: 'Assigned To', \r\n          fieldName: 'AssignedTo', \r\n          minWidth: 100, \r\n          maxWidth: 100, \r\n          isResizable: false \r\n        },\r\n        { \r\n          key: 'Occupied', \r\n          name: 'Occupied', \r\n          fieldName: 'Occupied', \r\n          minWidth: 100, \r\n          maxWidth: 100, \r\n          isResizable: false \r\n        },\r\n        { \r\n          key: 'Publish', \r\n          name: 'Publish', \r\n          fieldName: 'Publish', \r\n          minWidth: 100, \r\n          maxWidth: 100, \r\n          isResizable: false ,\r\n          \r\n        },\r\n       \r\n        \r\n    ]\r\n   \r\n    }//end constructor    \r\n  componentDidMount(): void {\r\n    this.UserAccomodationDatas();\r\n  }               \r\n     public newRequestForm =()=> {      \r\n        this.showDialog();\r\n     }\r\n    public showDialog = () => {\r\n    this.setState({ isDialogVisible: true });\r\n  }\r\n  public closeDialog = () => {\r\n    this.setState({ isDialogVisible: false });\r\n  }\r\n\r\n\r\n  public UserAccomodationDatas= async():Promise<IEximCabaProps[]> => {\r\n    debugger;\r\n    let spCrudObj = await useSPCRUD(); \r\n    this.setState(spCrudObj);\r\n   // return await TravelReqOps().getTravelDashboard( this.props).then(brrResults => {\r\n     const filters = \"(Occupied eq 'Yes') or (Publish eq 'Yes')\";\r\n    return await CABAReqOps().getUserAccomodationData(filters, { column: 'Id', isAscending: false }, this.props).then(brrResults => {\r\n     const filterdataUserACC = brrResults.filter(itemUserAccomodation => {\r\n       return itemUserAccomodation.AuthorId === parseInt(this.props.currentSPContext.pageContext.legacyPageContext.userId);\r\n     });\r\n        this.setState({UserAccomodationData:filterdataUserACC});\r\n     \r\n        return filterdataUserACC;\r\n      });\r\n  };\r\n\r\n    render(): React.ReactElement<any> {\r\n        \r\n        return(\r\n            <div>\r\n                <h4>Accommodation Dashboard </h4>\r\n                    \r\n              <div className='text-right' style={{display:'none'}}><button onClick={()=> this.newRequestForm()} className={styles.btnprimary}\r\n              style={{height:'34px', border:'none'}}>Accommodation Request</button></div>\r\n\r\n            <Pivot linkSize={PivotLinkSize.large} linkFormat={PivotLinkFormat.tabs} >\r\n          <PivotItem linkText='Pending'>\r\n            <div className='panel'>\r\n          \r\n            <DetailsList\r\n                items={this.state.UserAccomodationData}\r\n                columns={this.columns}\r\n                setKey=\"set\"\r\n                layoutMode={DetailsListLayoutMode.fixedColumns}\r\n                selectionMode={SelectionMode.none}              \r\n            />\r\n           \r\n            </div>\r\n          </PivotItem>\r\n          <PivotItem linkText='Approval in Process'>\r\n            <div className='panel'>\r\n            \r\n            </div>\r\n          </PivotItem>\r\n          <PivotItem linkText='Approved'>\r\n            <div className='panel'>\r\n          \r\n            </div>\r\n          </PivotItem>\r\n           \r\n          </Pivot>\r\n\r\n\r\n\r\n           {/* Dialog Print View */}\r\n        \r\n\r\n            </div>\r\n        )\r\n    }\r\n}"],"sourceRoot":"../../../../../src"}